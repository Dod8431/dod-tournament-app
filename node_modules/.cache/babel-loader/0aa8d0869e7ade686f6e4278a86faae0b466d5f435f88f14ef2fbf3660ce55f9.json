{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\doria\\\\dod-tournament-app\\\\src\\\\components\\\\RecapScreen.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getTournament } from '../firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RecapScreen() {\n  _s();\n  const {\n    tid\n  } = useParams();\n  const [tournament, setTournament] = useState(null);\n  const [myVotes, setMyVotes] = useState(null);\n  const [error, setError] = useState(\"\");\n  let user = null;\n  try {\n    user = JSON.parse(localStorage.getItem(`tourn_${tid}_user`));\n  } catch (e) {\n    user = null;\n  }\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!tid) {\n      setError(\"Invalid tournament ID.\");\n      return;\n    }\n    getTournament(tid).then(data => {\n      setTournament(data);\n      if (!user) {\n        setMyVotes([]);\n        return;\n      }\n      const my = (data.votes || []).filter(v => v.userId === user.userId && v.roundNum === data.currentRound);\n      setMyVotes(my);\n    }).catch(e => {\n      setError(\"Error loading tournament data.\");\n    });\n  }, [tid]);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center min-h-screen bg-[var(--main-bg)] text-[#ff99ba]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[var(--main-dark)] text-[#ff99ba] rounded-2xl p-8 shadow-lg text-xl font-bold border-2 border-[var(--main-gold)]\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n  if (!tournament || !myVotes) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center min-h-screen bg-[var(--main-bg)]\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex flex-col items-center justify-center py-12 px-2 bg-[var(--main-bg)]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl rounded-2xl shadow-2xl border-4\",\n      style: {\n        background: `linear-gradient(140deg, var(--main-dark) 60%, var(--main-bg) 100%)`,\n        borderColor: 'var(--main-gold)',\n        boxShadow: `0 6px 40px 0 var(--main-gold-dark)`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-3 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-extrabold mb-2 text-[var(--main-gold)] tracking-tight drop-shadow\",\n          style: {\n            textShadow: \"0 2px 16px var(--main-gold-dark)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-block mr-2\",\n            role: \"img\",\n            \"aria-label\": \"gold medal\",\n            children: \"\\uD83C\\uDFC6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), \"Your Votes \\u2014 Round \", tournament.currentRound]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), myVotes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-[var(--main-gold-dark)] text-lg font-semibold px-4 py-3 rounded-xl bg-[var(--main-dark)]/70 border border-[var(--main-gold-dark)]\",\n          children: \"No votes yet!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"flex flex-col gap-4\",\n          children: myVotes.map((v, i) => {\n            var _tournament$bracket$f;\n            const match = (((_tournament$bracket$f = tournament.bracket.find(r => r.round === tournament.currentRound)) === null || _tournament$bracket$f === void 0 ? void 0 : _tournament$bracket$f.matches) || []).find(m => m.id === v.matchId);\n            const votedVid = tournament.videos.find(x => x.id === v.votedFor);\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex gap-4 items-center bg-[var(--main-dark)] rounded-xl px-5 py-4 border-2\",\n              style: {\n                borderColor: 'var(--main-gold)',\n                boxShadow: \"0 2px 14px 0 var(--main-gold-dark)\"\n              },\n              children: [votedVid ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n                width: \"140\",\n                height: \"80\",\n                src: `https://www.youtube.com/embed/${votedVid.ytId}`,\n                title: votedVid.title || \"YouTube video\",\n                frameBorder: \"0\",\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n                allowFullScreen: true,\n                className: \"rounded-lg border-2 border-[var(--main-gold-dark)]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-[140px] h-[80px] bg-[var(--main-gold-dark)] rounded-lg flex items-center justify-center text-xs text-[var(--main-gold)] border-2 border-[var(--main-gold)]\",\n                children: \"No video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-lg text-[var(--main-gold)] drop-shadow\",\n                style: {\n                  textShadow: \"0 1px 6px var(--main-gold-dark)\"\n                },\n                children: [\"Voted: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-[var(--main-gold-dark)]\",\n                  children: votedVid !== null && votedVid !== void 0 && votedVid.title ? votedVid.title : \"Unknown\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 30\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(RecapScreen, \"RrmxaeaWaIlyaa/DTj1bX4buM0Y=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = RecapScreen;\nexport default RecapScreen;\nvar _c;\n$RefreshReg$(_c, \"RecapScreen\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","getTournament","jsxDEV","_jsxDEV","RecapScreen","_s","tid","tournament","setTournament","myVotes","setMyVotes","error","setError","user","JSON","parse","localStorage","getItem","e","navigate","then","data","my","votes","filter","v","userId","roundNum","currentRound","catch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","background","borderColor","boxShadow","textShadow","role","length","map","i","_tournament$bracket$f","match","bracket","find","r","round","matches","m","id","matchId","votedVid","videos","x","votedFor","width","height","src","ytId","title","frameBorder","allow","allowFullScreen","_c","$RefreshReg$"],"sources":["C:/Users/doria/dod-tournament-app/src/components/RecapScreen.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getTournament } from '../firebase/firestore';\r\n\r\nfunction RecapScreen() {\r\n  const { tid } = useParams();\r\n  const [tournament, setTournament] = useState(null);\r\n  const [myVotes, setMyVotes] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  let user = null;\r\n  try {\r\n    user = JSON.parse(localStorage.getItem(`tourn_${tid}_user`));\r\n  } catch (e) { user = null; }\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!tid) {\r\n      setError(\"Invalid tournament ID.\");\r\n      return;\r\n    }\r\n    getTournament(tid).then(data => {\r\n      setTournament(data);\r\n      if (!user) {\r\n        setMyVotes([]);\r\n        return;\r\n      }\r\n      const my = (data.votes || []).filter(\r\n        v => v.userId === user.userId && v.roundNum === data.currentRound\r\n      );\r\n      setMyVotes(my);\r\n    }).catch(e => {\r\n      setError(\"Error loading tournament data.\");\r\n    });\r\n  }, [tid]);\r\n\r\n  if (error) return (\r\n    <div className=\"flex justify-center items-center min-h-screen bg-[var(--main-bg)] text-[#ff99ba]\">\r\n      <div className=\"bg-[var(--main-dark)] text-[#ff99ba] rounded-2xl p-8 shadow-lg text-xl font-bold border-2 border-[var(--main-gold)]\">\r\n        {error}\r\n      </div>\r\n    </div>\r\n  );\r\n  if (!tournament || !myVotes)\r\n    return <div className=\"flex justify-center items-center min-h-screen bg-[var(--main-bg)]\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center py-12 px-2 bg-[var(--main-bg)]\">\r\n      <div\r\n        className=\"w-full max-w-2xl rounded-2xl shadow-2xl border-4\"\r\n        style={{\r\n          background: `linear-gradient(140deg, var(--main-dark) 60%, var(--main-bg) 100%)`,\r\n          borderColor: 'var(--main-gold)',\r\n          boxShadow: `0 6px 40px 0 var(--main-gold-dark)`\r\n        }}\r\n      >\r\n        <div className=\"flex flex-col gap-3 p-8\">\r\n          <h2 className=\"text-2xl font-extrabold mb-2 text-[var(--main-gold)] tracking-tight drop-shadow\"\r\n              style={{textShadow: \"0 2px 16px var(--main-gold-dark)\"}}\r\n          >\r\n            <span className=\"inline-block mr-2\" role=\"img\" aria-label=\"gold medal\">🏆</span>\r\n            Your Votes — Round {tournament.currentRound}\r\n          </h2>\r\n          {myVotes.length === 0 ? (\r\n            <div className=\"text-[var(--main-gold-dark)] text-lg font-semibold px-4 py-3 rounded-xl bg-[var(--main-dark)]/70 border border-[var(--main-gold-dark)]\">\r\n              No votes yet!\r\n            </div>\r\n          ) : (\r\n            <ul className=\"flex flex-col gap-4\">\r\n              {myVotes.map((v, i) => {\r\n                const match = (tournament.bracket.find(r => r.round === tournament.currentRound)?.matches || []).find(m => m.id === v.matchId);\r\n                const votedVid = tournament.videos.find(x => x.id === v.votedFor);\r\n                return (\r\n                  <li\r\n                    className=\"flex gap-4 items-center bg-[var(--main-dark)] rounded-xl px-5 py-4 border-2\"\r\n                    key={i}\r\n                    style={{\r\n                      borderColor: 'var(--main-gold)',\r\n                      boxShadow: \"0 2px 14px 0 var(--main-gold-dark)\"\r\n                    }}\r\n                  >\r\n                    {votedVid ? (\r\n                      <iframe\r\n                        width=\"140\"\r\n                        height=\"80\"\r\n                        src={`https://www.youtube.com/embed/${votedVid.ytId}`}\r\n                        title={votedVid.title || \"YouTube video\"}\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                        allowFullScreen\r\n                        className=\"rounded-lg border-2 border-[var(--main-gold-dark)]\"\r\n                      ></iframe>\r\n                    ) : (\r\n                      <div className=\"w-[140px] h-[80px] bg-[var(--main-gold-dark)] rounded-lg flex items-center justify-center text-xs text-[var(--main-gold)] border-2 border-[var(--main-gold)]\">\r\n                        No video\r\n                      </div>\r\n                    )}\r\n                    <span className=\"font-bold text-lg text-[var(--main-gold)] drop-shadow\" style={{textShadow:\"0 1px 6px var(--main-gold-dark)\"}}>\r\n                      Voted: <span className=\"text-[var(--main-gold-dark)]\">{votedVid?.title ? votedVid.title : \"Unknown\"}</span>\r\n                    </span>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecapScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}